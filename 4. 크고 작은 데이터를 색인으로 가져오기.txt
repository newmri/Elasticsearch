Logstash: 서버에서 생성되는 로그 파일과 Elasticsearch 사이에 위치 데이터 파싱, 구조화 가공해서 Elasticsearch, DB 등으로 전송

엘라스틱 시작: sudo /bin/systemctl start elasticsearch.service
sudo /bin/systemctl status elasticsearch.service

설치방법
1. sudo apt install openjdk-8-jre-headless
2. sudo apt-get update
3. sudo apt-get install logstash
4. sudo vi /etc/logstash/conf.d/logstash.conf

input {
	file {
		path => "/home/access_log"
		start_position => "beginning"
	}
}

filter {
	grok {
		match => { "message" => "%{COMBINEDAPACHELOG}" }
	}
	date {
		match => [ "timestamp", "dd/MMM/yyyy:HH:mm:ss Z" ]
	}
}

output {
	elasticsearch {
		hosts => ["localhost:9200"]
	}
	stdout {
		codec => rubydebug
	}
}

5. cd /usr/share/logstash/
6. sudo bin/logstash -f /etc/logstash/conf.d/logstash.conf

grok: 로그 필터 형식